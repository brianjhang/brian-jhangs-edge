# GEMINI.md

Gemini CLI 協同工作指導文檔

> 本文檔為 Gemini CLI 與 Claude Code 協同工作提供標準化流程和最佳實踐，確保獲得準確、可驗證的資訊。

## 🎯 協同工作原則

### 核心使命
利用 Gemini 2.5 Pro 的 100 萬 Token 上下文和即時網路資訊能力，為內容創作和技術分析提供準確、及時的第一手資料。

### 基本原則
1. **事實優先**：只接受可驗證的事實，拒絕推測和假設
2. **來源透明**：所有資訊必須標註來源和時間
3. **錯誤零容忍**：建立多重驗證機制，防範 AI 幻覺
4. **時效性保證**：確保資訊的最新性和準確性

## 🔧 標準化工作流程

### 階段一：初步查詢
```bash
gemini -p "請提供 [主題] 的最新權威資訊，嚴格要求：
1. 只提供有官方來源支撐的事實
2. 明確標註資料來源和日期
3. 區分已確認事實與市場預測
4. 如果資訊不足請誠實說明
5. 重點關注：[具體關注點]

**回應簡潔性要求**：請直接提供核心事實，避免冗長解釋以防超時"
```

### 超時處理策略
如果查詢超時，請拆分為多個簡單查詢：
```bash
# 範例：拆分技術升級查詢
gemini -p "僅回答：Pectra 升級當前狀態（已上線/測試中/計劃中）"
gemini -p "僅回答：Pectra 升級如已上線，具體日期是？"
```

### 階段二：事實查核
```bash
gemini -p "請驗證以下資訊的準確性：
[待驗證內容]

查核要求：
1. 確認每個數據點的官方來源
2. 識別任何可能的錯誤或過時資訊
3. 排除常見誤解（如：[具體澄清項目]）
4. 提供更新或更正建議
5. 標註最後驗證時間"
```

### 階段三：交叉驗證
```bash
gemini -p "請從多個權威來源交叉驗證：
[關鍵資訊點]

驗證標準：
1. 至少 2-3 個獨立權威來源
2. 時間點和數據的一致性檢查
3. 識別源頭資訊 vs 轉述資訊
4. 標註任何不一致之處
5. 提供最可信的版本"
```

### 階段四：數據精準核實 🆕
```bash
# 高風險數據核實（必須執行）
gemini -p "僅核實 [具體實體] 的 [具體數據類型]。要求：
1. 提供最新的準確數據
2. 標註官方數據來源  
3. 提供最後更新時間
4. 如有變化請說明差異
參考官方網站：[相關官方網站]
請簡潔回答，避免冗長解釋。"

# 交叉驗證
gemini -p "請交叉驗證以下數據的一致性：
[待驗證的數據清單]
檢查重點：不同來源數據是否一致、時間點是否匹配"
```

### 階段五：最終確認
```bash
gemini -p "最終確認以下內容的完整性和準確性：
[最終內容]

確認清單：
1. 所有事實都有可靠來源
2. 時間描述使用正確時態
3. 數據和案例真實可驗證
4. 沒有推測性陳述
5. 關鍵數據已完成精準核實
6. 提供完整的修改建議"
```

## ⚠️ 防範 AI 幻覺機制

### 高風險情況識別
- 涉及具體公司行為（如 MicroStrategy 購買 ETH）
- 包含確切數字和時間點
- 引用特定公告或事件
- 預測性或推測性內容
- **ETF 市場數據**（容易與 BTC ETF 混淆）
- **技術升級時程**（測試網 vs 主網狀態）

### 強制澄清要求
對於每個高風險情況，必須要求：
```bash
"如果 [知名實體] 沒有做 [特定行為]，請明確說明"
"不要推測任何未經官方確認的行為"
"區分已發生事件與市場分析預測"
"明確標註數據來源和最後更新時間"
```

### 錯誤檢查清單
- [ ] 是否有無法驗證的「具體數字」？
- [ ] 是否有「某公司宣布」但沒有來源？
- [ ] 是否混淆了相似概念（如「以太坊版 X」vs「X 購買以太坊」）？
- [ ] 時態是否正確（已發生 vs 預計）？
- [ ] 是否有邏輯推測代替事實陳述？
- [ ] **資訊一致性**：同一主題的不同查詢是否產生矛盾的結果？

## 📝 內容創作標準參考

### 🚀 新版整合系統架構 (v2.0)
**⭐ 重要更新**：專案已升級為整合 10 大品質維度的系統化內容生產架構

#### 📋 核心文檔系統 (必讀優先順序)
```bash
1. docs/content-production/00-MASTER-WORKFLOW.md     # 總控工作流程 (⭐最高優先)
2. docs/content-production/01-content-quality-framework.md  # 10大品質維度
3. docs/content-production/02-writing-standards.md          # 整合寫作標準
4. docs/content-production/04-gemini-collaboration-guide.md # Gemini協同指南
5. docs/topics/{series}-topics.md                           # 系列專用規劃
6. README.md                                                 # 專案技術架構
```

#### 🔧 工具與模板庫
```bash
7. docs/templates/content-generation-templates.md     # 標準化生成模板
8. docs/templates/quality-checklists.md              # 多階段檢查標準
9. docs/templates/data-verification-templates.md     # 分類核實模板
```

### 🔥 v2.0 標準化創作流程

#### 📋 總控工作流程模板 (優先使用)
**⭐ 必須按照新版 00-MASTER-WORKFLOW.md 執行**
```bash
"請按照以下系統化流程創作高品質文章：

**🎯 階段一：規劃與準備** (5-8分鐘)
1. 查閱 docs/content-production/00-MASTER-WORKFLOW.md 了解完整流程
2. 參考 docs/topics/{series}-topics.md 確認主題風格要求
3. 設定品質目標：內容結構95%+、數據準確95%+、Brian風格90%+

**✏️ 階段二：內容創作** (20-30分鐘) - 分批執行策略
1. 生成文章大綱 (H2/H3層級清晰)
2. 創建Brian風格結構 (開場+Key Takeaways+表格+FAQ)
3. 分章節生成主體內容 (每章400-500字)
4. 完善frontmatter和結語

**✅ 階段三：品質控制** (10-15分鐘)
1. 執行數據檢核 (高風險數據必須核實)
2. 十大品質維度評估
3. Brian風格一致性檢查

**📱 階段四：發布準備** (8-10分鐘)
1. 技術格式確認 (MDX語法、路徑正確)
2. OG圖片路徑設定
3. 社交媒體內容準備

請嚴格按照此流程，確保每個階段的品質標準。"
```

#### 🎨 Brian風格創作模板 (升級版)
```bash
"請參考 docs/content-production/02-writing-standards.md 的整合寫作標準：

**Brian風格核心要素**：
1. 結構化設計 - 文章如產品般精心設計
2. 價值前置 - 一句話解答 + Key Takeaways
3. 視覺化溝通 - 大量emoji、表格、代碼塊
4. 深入淺出 - 生活化比喻保留技術深度
5. 權威親和 - 專業自信但親近讀者

**必須包含元素**：
□ 引人入勝的開場情景
□ 一句話直接回答核心問題
□ 4個Key Takeaways (emoji+粗體)
□ 對比表格和視覺化內容
□ FAQ區塊預判讀者疑問
□ 鼓勵性斜體結語
□ 完整的風險聲明 (crypto系列)

請確保風格一致性達到90%+標準。"
```

### 品質提升要點
基於與 Claude Code 品質差異分析，Gemini CLI 特別注意：

1. **敘事溫度**：增加情境帶入和生活化類比
2. **數據具體性**：提供量化數字和真實案例
3. **視覺創意**：使用表格、流程圖、ASCII art
4. **實用工具**：包含檢核清單和資源連結

### Brian 風格寫作參考
**⭐ 重要更新**：專案已建立完整的 Brian 風格寫作手冊

📂 **參考文檔位置**：`docs/brian-writing-style-guide.md`

**核心風格要素**：
1. **結構化設計**：文章如產品般精心設計，優化快速掃描和深度閱讀
2. **價值前置**：開頭使用「一句話解答」和「Key Takeaways」
3. **視覺化溝通**：大量 Emoji、表格、代碼塊，降低理解門檻
4. **深入淺出**：生活化比喻解釋複雜概念，保留技術深度
5. **權威親和**：專業自信但使用「你」、「我們」拉近距離

**標準寫作流程**：
```bash
gemini -p "請先仔細研讀 docs/brian-writing-style-guide.md 中的完整寫作指導，
然後按照以下要求創作文章：

1. 嚴格遵循 Brian 風格模板結構
2. 使用指定的 Emoji 和視覺元素模式
3. 包含核心檢查清單所有要素
4. 確保語調符合「權威但親和」的標準
5. 添加 FAQ 區塊和行動呼籲

請參考手冊中的詳細指導，確保風格一致性達到 90%+ 標準。"
```

## 📝 專用提示模板

### 內容更新查詢
```bash
gemini -p "更新 [主題] 最新發展，要求：1) 官方來源驗證 2) 標註更新日期 3) 區分事實與預測"
```

### 技術資訊驗證
```bash
gemini -p "驗證 [技術項目] 當前狀態：1) 確認實際發布狀態 2) 提供官方來源 3) 避免推測內容"
```

## 🔄 持續改進機制

### 錯誤學習
每次發現 AI 幻覺或錯誤資訊時：
1. 記錄錯誤類型和原因
2. 更新防範機制
3. 優化提示詞模板
4. 加強驗證流程

### 已知問題與解決方案

#### 1. Gemini CLI 超時問題 ✅ 已解決
- **原因**：複雜查詢容易超過 2 分鐘限制
- **解決方案**：分批執行策略（Divide and Conquer）
- **詳細指導**：參考 `docs/content-production/04-gemini-collaboration-guide.md`

**🔥 v2.0 分批執行核心原則**：
```bash
# ❌ 錯誤：一次性複雜查詢（會超時）
gemini -p "請生成三篇完整文章..."

# ✅ 正確：按照 00-MASTER-WORKFLOW.md 分批執行
gemini -p "階段1：為[主題]生成文章大綱。請簡潔回答。"
gemini -p "階段2：生成frontmatter和開頭段落，包含一句話解答和Key Takeaways。"
gemini -p "階段3：生成[具體章節]內容，每章節400-500字，包含實用細節。"
gemini -p "階段4：生成FAQ區塊和結語，預判讀者疑問。"
```

**🎯 新版標準執行流程** (參考: 04-gemini-collaboration-guide.md)：
1. **階段1**: 大綱生成 (5分鐘)
2. **階段2**: 結構內容 (8分鐘) - frontmatter + 開場 + Key Takeaways
3. **階段3**: 主體內容 (15分鐘) - 分章節，每章400-500字
4. **階段4**: 完善內容 (5分鐘) - FAQ + 結語 + 最終潤色

#### 2. 文章創建完整性問題 ✅ 已解決
- **問題**：生成內容但未創建實體 MDX 檔案，導致文章無法顯示
- **解決方案**：建立標準化文章創建流程
- **詳細記錄**：參考 `docs/work-logs/article-display-issue-fix.md`

#### 3. Schema 驗證問題 ✅ 已解決
- **問題**：文章 frontmatter 不符合實際生效的 schema 配置，導致驗證失敗
- **根本原因**：項目存在兩個 content 配置文件，`src/content.config.ts` 為實際生效配置
- **解決方案**：確保 frontmatter 符合實際 schema 要求

**Schema 驗證關鍵要求**：
```yaml
# 所有系列共同要求
type: "education"  # 必須：education/opinion/story
lang: "zh-TW"      # 必須：zh-TW/zh-CN/en
summary: "..."     # 必須：最大180字符

# Crypto 系列特殊要求
ticker: "BTC"      # 字符串格式（非陣列）
difficulty: "intermediate"  # beginner/intermediate/advanced
```

**完整文章創建檢查清單**：
```
□ 檔案路徑正確（src/content/{series}/{category}/{slug}.mdx）
□ frontmatter 包含所有必要欄位
□ type/lang/difficulty 使用正確的枚舉值
□ summary 長度在 180 字符內
□ ticker 使用字符串格式（非陣列）
□ date 格式統一（YYYY-MM-DD）
□ 符合各主題寫作風格要求
□ 建構測試無錯誤
□ 實際測試文章顯示效果
```

#### 3. 資訊一致性挑戰
- **原因**：不同時間點的回應可能有矛盾
- **解決**：必須在同一次對話中完成所有查詢，或明確記錄前次結果來保持一致

#### 4. 精確度提升空間
- **目標**：從 90% 提升至 95%+ 準確度
- **方法**：加強第四階段的細節檢查，對每個數據點進行雙重驗證

### 流程優化
定期評估和改進：
- 查詢效率和準確性
- 驗證機制的有效性
- 提示詞模板的適用性
- 整體協同工作品質

## 📂 v2.0 整合系統參考

### 🚀 核心系統架構
**⭐ 新版架構已整合所有分散的工作日誌和指南**
- **總控工作流程**：`docs/content-production/00-MASTER-WORKFLOW.md` - 一站式完整流程指導
- **品質控制框架**：`docs/content-production/01-content-quality-framework.md` - 10大品質維度
- **寫作標準手冊**：`docs/content-production/02-writing-standards.md` - 統一所有寫作規範
- **數據檢核系統**：`docs/content-production/03-data-verification-system.md` - 高精度核實流程
- **Gemini協同指南**：`docs/content-production/04-gemini-collaboration-guide.md` - 專業分批策略

### 🔧 工具與模板庫
- **生成模板庫**：`docs/templates/content-generation-templates.md` - 標準化生成模板
- **品質檢查清單**：`docs/templates/quality-checklists.md` - 多階段檢查標準
- **數據核實模板**：`docs/templates/data-verification-templates.md` - 分類核實模板

### 📋 使用建議 (v2.0)
1. **開始任何創作任務**：必須先查閱 `00-MASTER-WORKFLOW.md` 了解完整流程
2. **遇到超時問題**：參考 `04-gemini-collaboration-guide.md` 的分批執行策略
3. **品質控制需求**：使用 `01-content-quality-framework.md` 的10大品質維度
4. **數據核實需求**：使用 `03-data-verification-system.md` 確保95%+準確度
5. **寫作風格問題**：參考 `02-writing-standards.md` 的整合標準

### 🔄 系統維護
- v2.0 架構已整合過往所有工作日誌的經驗和解決方案
- 所有新發現的問題優先更新到相應的核心文檔
- 定期檢查和優化整合系統的完整性和一致性

---

**📌 v2.0 重要提醒**：
- 🚀 **架構升級**：專案已升級為整合10大品質維度的系統化架構 (v2.0)
- 📋 **優先使用**：所有創作任務必須先查閱 `docs/content-production/00-MASTER-WORKFLOW.md`
- 🎯 **品質標準**：內容結構95%+、數據準確95%+、Brian風格90%+
- 🔧 **工具整合**：Claude Code + Gemini 協同，各階段分工明確
- 🔄 **持續改進**：基於10大品質維度的量化評估和系統優化

**⚡ 快速上手**：
1. 閱讀 `00-MASTER-WORKFLOW.md` (5分鐘)
2. 按照4階段流程執行 (45-60分鐘)
3. **必須**使用10大品質維度評估 (10-15分鐘)
4. 使用檢查清單確保品質 (5-10分鐘)

**🆕 2025-09-05 重要更新**：
- **強制品質評估**：階段3必須執行10大維度系統化評估
- **閱讀時間修正**：按中文字數準確計算（字數÷225）
- **分類標籤規範**：穩定幣類文章使用"stablecoin"而非"concepts"
- **發展歷程必填**：新項目須包含時間軸表格
- **治理機制更新**：查詢最新的DAO提案和費用分享機制