---
import { getCollection } from "astro:content";
const posts = (await getCollection("daily")).sort((a,b)=> (a.data.date < b.data.date ? 1 : -1));
---
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>今日精選 | Brian Jhang's Edge</title>
    <style>
      :root { 
        --bg:#0b0b0c; 
        --muted:#9ca3af; 
        --card:#0f1115; 
        --border:#1f2937; 
        --card-hover:#121218;
        --shadow: 0 4px 12px rgba(0,0,0,0.15);
        --shadow-hover: 0 8px 25px rgba(0,0,0,0.25);
      }
      body{font-family:ui-sans-serif,system-ui;line-height:1.7;margin:0;background:var(--bg);color:#e5e7eb;min-height:100vh}
      .wrap{max-width:1000px;margin:40px auto;padding:0 20px}
      .card{
        background:var(--card);
        border:1px solid var(--border);
        border-radius:16px;
        padding:20px;
        transition:all 0.3s ease;
        box-shadow:var(--shadow);
      }
      .card:hover{
        background:var(--card-hover);
        border-color:#374151;
        transform:translateY(-2px);
        box-shadow:var(--shadow-hover);
      }
      .muted{color:var(--muted);font-size:14px;line-height:1.5}
      ul{list-style:none;padding:0;display:grid;gap:20px;margin:32px 0}
      @media(min-width:900px){ul{grid-template-columns:repeat(2,1fr)}}
      a{color:inherit;text-decoration:none}
      h1{margin:0 0 20px 0;font-size:36px;font-weight:800;color:#fff;letter-spacing:-0.02em}
      h3{margin:8px 0 12px 0;font-size:18px;font-weight:600;color:#fff;line-height:1.4}
      .back-link{
        display:inline-flex;
        align-items:center;
        gap:8px;
        color:var(--muted);
        font-size:14px;
        margin-bottom:24px;
        transition:color 0.2s ease;
      }
      .back-link:hover{color:#fff}
      
      @media(max-width:768px){
        .wrap{margin:20px auto;padding:0 16px}
        h1{font-size:28px}
        ul{gap:16px;margin:24px 0}
        .card{padding:16px}
      }
    </style>
  </head>
  <body>
    <main class="wrap">
      <a href="/" class="back-link">← 回到首頁</a>
      <h1>今日精選</h1>
      <ul>
        {posts.map(p => (
          <li class="card">
            <a href={`/daily/${p.slug}`}>
              <div class="muted">{p.data.date} · {p.data.series}</div>
              <h3>{p.data.title}</h3>
              <div class="muted">{p.data.summary}</div>
            </a>
          </li>
        ))}
        {posts.length === 0 && <li class="muted">（尚無內容，請稍後再試）</li>}
      </ul>
    </main>
  </body>
</html>
