---
import { getCollection } from "astro:content";
const posts = (await getCollection("daily")).sort((a,b)=> (a.data.date < b.data.date ? 1 : -1));
---
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>今日精選 | Brian Jhang's Edge</title>
    <style>
      body{font-family:ui-sans-serif,system-ui;line-height:1.6;margin:0;background:#fafafa}
      .wrap{max-width:960px;margin:24px auto;padding:0 16px}
      .card{border:1px solid #eee;border-radius:14px;padding:14px;background:#fff}
      .muted{color:#6b7280;font-size:14px}
      ul{list-style:none;padding:0;display:grid;gap:16px}
      @media(min-width:900px){ul{grid-template-columns:repeat(2,1fr)}}
      a{color:inherit;text-decoration:none}
      h1{margin:0 0 12px 0}
      h3{margin:6px 0 8px 0}
    </style>
  </head>
  <body>
    <main class="wrap">
      <h1>今日精選</h1>
      <ul>
        {posts.map(p => (
          <li class="card">
            <a href={`/daily/${p.slug}`}>
              <div class="muted">{p.data.date} · {p.data.series}</div>
              <h3>{p.data.title}</h3>
              <div class="muted">{p.data.summary}</div>
            </a>
          </li>
        ))}
        {posts.length === 0 && <li class="muted">（尚無內容，請稍後再試）</li>}
      </ul>
    </main>
  </body>
</html>
